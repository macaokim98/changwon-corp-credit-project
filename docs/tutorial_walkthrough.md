# Changwon Credit 튜토리얼 (중학생도 이해하는 버전)

안녕하세요! 이 가이드는 “창원 기업 여신 분석 프로젝트”를 처음 접하는 사람도 차근차근 따라 할 수 있도록 설계되었습니다. 단순히 코드를 실행하는 순서를 나열하는 수준이 아니라,
왜 그런 절차가 필요한지, 각 도구가 어떤 역할을 맡는지, 실무에서 어떤 기준으로 데이터를 해석하는지까지 풀어 적었습니다. 특히 최근 업데이트로 도입된 Typst 커스터마이징,
중학생 눈높이의 영어 약어 설명, 자동 포트 선택이 가능한 Dash 대시보드 등도 모두 반영했습니다. 각 챕터는 500단어 이상으로 구성되어 있으니, 여유 있게 읽으면서 필요한
내용은 북마크하거나 동료와 공유해 주세요.

---

## 1. 프로젝트 개요

이 챕터에서는 “창원 기업 여신 분석 프로젝트”가 목표로 삼는 바와, 우리가 해결하려는 문제를 현실적인 관점에서 설명합니다. 프로젝트의 핵심 대상은 두산에너빌리티(종목 코드
034020)이며, 최근 3개 연도의 재무 데이터를 인터넷에서 자동으로 가져와 분석합니다. 단순한 재무지표 나열이 아니라 실제 은행 여신 심사팀에서 활용할 수 있는 형태로 자료를
가공한다는 점이 중요한 차별 요소입니다. 예를 들어, 카카오뱅크나 NH농협 같은 금융기관은 기업에 대출을 해줄 때 “이 회사가 실제로 얼마만큼의 현금을 벌고 있고, 빚을 제때 갚을
만한 능력이 있는가?”를 가장 먼저 확인합니다. DSCR(부채상환능력비율)이나 PD(부도확률) 같은 지표가 대표적이죠. 우리 파이프라인은 웹에서 데이터를 수집하고, ETL을 거쳐
분석용 지표를 만들어 내며, 최종적으로는 Markdown 문서, Plotly 그래프, Typst 기반 PDF, 그리고 Dash 대시보드까지 자동으로 생성합니다. 즉, 한 번의
명령으로 데이터 수집, 분석, 문서화, 시각화, 배포 준비를 모두 끝내는 “원스톱” 도구라고 볼 수 있습니다.

프로젝트가 만들어 내는 산출물은 크게 네 가지입니다. 첫째, `reports/doosan_credit.md`에 저장되는 Markdown 리포트입니다. 이 문서는 은행 심사역이 바로
읽으며 “실행 요약, 실적 테이블, 레버리지 비율, 시나리오 결과, 강점/리스크/제언”을 순서대로 확인할 수 있게 구성되어 있습니다. 둘째,
`reports/figures/*.png`에 저장되는 Plotly 이미지입니다. 실적 추세, DSCR과 이자보상배율, Altman Z와 PD, 그리고 스트레스 시나리오를 한눈에 볼
수 있게 시각화했습니다. 셋째, Typst 템플릿에서 생성되는 `.typ` 파일과 PDF입니다. 특히 `config/config.yaml`에서 Typst 옵션을 제어할 수 있도록
개선되어, 팀마다 원하는 템플릿이나 산출 위치를 자유롭게 변경할 수 있습니다. 넷째, Dash로 만든 웹 대시보드입니다. 이 화면에서는 시나리오 충격(±%) 슬라이더를 조정하면서
그래프가 어떻게 달라지는지를 실시간으로 확인할 수 있습니다.

이 프로젝트가 실제 현장에서 왜 필요한지도 구체적으로 짚어 봅시다. 은행의 기업금융 담당자는 고객 면담 전에 엄청난 양의 자료를 검토해야 합니다. 대부분은 포털이나 FnGuide
같은 상업용 사이트에서 엑셀로 내려받아 수작업으로 정리합니다. 하지만 이런 방식은 오류가 발생하기 쉽고, 매번 같은 형태의 보고서를 만들기도 어렵습니다. 우리 도구를 사용하면
“기업 코드를 바꿔서 명령 한 번 실행하는 것”만으로 새 리포트를 뽑을 수 있습니다. 이렇게 자동화된 프로세스는 시나리오 분석이나 리스크 포인트 정리 같은 고부가가치 작업에 시간을
사용할 수 있게 해 줍니다.

마지막으로 이 챕터에서는 “프로젝트의 철학”도 강조합니다. 단순히 코드를 잘 작성하는 것이 아니라, 은행 실무자가 보고 만족할 수준의 문서 품질과 설명력을 확보해야 합니다. 그래서
보고서와 대시보드에는 영문 약어를 풀어서 설명하고, 각 지표가 실무에서 어떻게 사용되는지도 덧붙였습니다. 예컨대 DSCR, PD, LGD, EBITDA 같은 단어는 초보자에게
어렵게 느껴질 수 있기 때문에, Markdown과 Dash UI에 “중학생도 이해할 수 있는” 문장을 덧붙여 놓았습니다. 프로젝트가 단지 엔지니어링 결과물에 머무르지 않고, 도메인
전문가와 협업 가능한 형태로 진화하고 있다는 점을 기억하면, 앞으로 자신의 회사나 고객사 요구에 맞게 얼마든지 확장할 수 있습니다. 이 챕터를 통해 “우리가 왜 이 시스템을
만들었는가?”라는 질문에 명확히 답할 수 있게 되기를 바랍니다.

---

## 2. 우리가 쓰는 기술 (Tech Stack)

두 번째 챕터에서는 파이프라인을 구성하는 기술 스택을 체계적으로 설명합니다. 먼저 언어는 Python 3.12를 기본으로 합니다. 정확한 버전을 명시하는 이유는 Pandas,
PyArrow, Dash 같은 라이브러리가 최신 문법과 최적화를 활용하기 때문입니다. `pyproject.toml`에 명시된 의존성을 보면 pandas>=2.2.0,
numpy>=1.26.0, plotly>=5.24.0, dash>=2.18.0, typer>=0.12.0 등 최신 버전을 요구합니다. 또한 Typst CLI 0.14.0을 설치해
PDF 생성을 수행합니다. 만약 다른 환경에서 설치하려면 `docs/run_commands.md`에 있는 설치 스크립트를 참고하세요.

데이터 저장 방식도 중요한데, 파이프라인은 원본 데이터를 `data_raw/` 폴더에 CSV로 저장하고, 정제된 테이블은 Parquet 형식으로 `data_processed/`에
기록합니다. 동시에 SQLite 데이터베이스(`data_processed/credit.db`)에도 동일한 내용을 적재하여 BI 도구나 SQL 분석이 가능하게 합니다. 파이프라인이
언제든지 재실행 가능하도록 모든 단계에서 경로를 `config/config.yaml`로부터 읽어 오도록 설계했습니다. 이 설정 파일에는 `paths`와 `report` 섹션이
있으며, Typst 관련 옵션(`enabled`, `compile_pdf`, `output_dir`, `template`)도 포함됩니다. 즉, 특정 고객사에서는 PDF를 생성하지
않고 `.typ` 소스만 쓰거나, 보고서 위치를 다른 디렉터리로 바꾸고 싶을 때 YAML 한 줄만 수정하면 됩니다.

CLI는 Typer로 구현되어 있어 `changwon-credit --config config/config.yaml`처럼 간단히 호출할 수 있습니다. 내부적으로는 `main()`
함수가 `run_pipeline`을 통해 데이터를 수집/가공하고, `compute_credit_metrics`로 분석 지표를 계산한 뒤, `render_markdown`과
`render_typst_report`로 결과물을 쓰고, `build_charts`로 그래프를 저장합니다. Typst 렌더러는 Python의
`importlib.resources`를 사용해 템플릿을 읽고, 문자열 치환으로 실제 내용을 삽입합니다. 이때 `_escape_text` 함수를 통해 `<`, `>`, `&` 같은
특수문자를 자동으로 이스케이프하므로, 은행 심사 의견을 적을 때 “DSCR < 1.0x” 같은 표현도 안전하게 PDF에 들어갑니다.

Dash 대시보드는 Plotly와 Dash Bootstrap Components를 함께 사용합니다. 레이아웃은 카드, 슬라이더, 그래프를 포함하며 최신 업데이트에서는 “영어 약어
쉬운 해설” 영역이 추가되었습니다. 이 카드들은 `src/changwon_credit/glossary.py`에서 정의한 `Acronym` 데이터 클래스를 기반으로 생성됩니다. 각
항목은 코드, 의미, 실무 활용, 중학생도 이해할 수 있는 설명을 담고 있어서, UI에서 카드 형태로 출력됩니다. 이렇게 도메인 지식을 중앙에서 관리하면 Markdown,
Typst, Dash가 모두 동일한 설명을 공유할 수 있어 유지보수가 쉬워집니다.

마지막으로, 로컬 환경 설정도 짚고 넘어가야 합니다. devcontainer나 pyenv 같은 도구를 사용할 때는 `pip install -e .[dev]`를 해당 환경에서도 다시
실행해야 합니다. “가상환경 없이도 실행 가능하냐”라는 질문을 자주 받는데, 시스템 파이썬에 동일한 명령을 한 번만 실행하면 CLI가 바로 동작합니다. 다만 최신
Plotly/Dash 조합을 쓰기 때문에 `python3` 명령이 3.12 이상을 가리키는지 확인해 주세요. Typst는 `~/.local/bin`에 설치되고 PATH에 등록되어
있어야 합니다. 설치 후 `typst --version`이 제대로 나오면, CLI 실행 시 자동으로 `.typ` 파일과 PDF를 같이 생성합니다.

이 챕터를 통해 “이 프로젝트가 어떤 기술로 구현되었는가?” “각 도구가 어떤 역할을 맡는가?”에 확실한 감을 잡을 수 있습니다. 단순한 패키지 나열을 넘어, 왜 그런 선택을
했는지, 실무에서 어떤 장점이 있는지까지 이해하도록 구성했으니, 초보자라도 실제 업무에 적용할 수 있는 지식을 얻을 수 있습니다.

---

## 3. 기능 한눈에 보기

세 번째 챕터에서는 파이프라인이 제공하는 주요 기능들을 세밀하게 풀어 설명합니다. “한눈에 보기”라는 표제지만, 각 기능의 배경과 구현 방식을 깊이 다루어 총 500단어 이상으로
구성했습니다.

첫 번째 기능은 데이터 수집입니다. `src/changwon_credit/loader.py`의 `fetch_statements` 함수는 FnGuide의 `SVD_Finance`
페이지에서 HTML 테이블을 읽어 옵니다. `pandas.read_html`을 활용해 다섯 개 이상의 테이블을 가져오고, 필요한 항목만 필터링합니다. 수집된 테이블은 INCOME,
BALANCE, CASHFLOW 세 가지로 나뉘며, 각 테이블은 `metric_map`을 이용해 한국어 항목명을 영문 컬럼명으로 변환합니다. 예를 들어 “영업활동으로인한현금흐름”은
`operating_cash_flow`가 됩니다. 이때 숫자 값은 억 원 단위이므로 `KRW_100M_TO_BN = 0.1` 상수를 곱해 “KRW billion” 단위로 바꿉니다.
이런 단위 통일 덕분에 보고서에서는 `config.report.currency`만 바꿔도 설명이 자연스럽게 맞춰집니다.

두 번째 기능은 ETL과 저장입니다. `run_pipeline`은 원본 테이블을 CSV로 저장하고(`data_raw/A034020_income.csv` 같은 형식), 정제된
DataFrame을 Parquet으로 `data_processed/`에 파일별로 저장합니다. 동시에 SQLite DB에도 `to_sql`을 사용해
`analytics_credit`, `financials_income`, `financials_balance`, `financials_cashflow`, `companies`
테이블을 갱신합니다. 이렇게 저장해 두면, Dash에서 새로고침할 때마다 드라이브에서 바로 읽어오거나, 외부 BI 도구에서 SQLite를 연결해 분석할 수 있습니다.

세 번째 기능은 분석 모델입니다. `analytics.py`에서는 `compute_credit_metrics` 함수가 ROIC, DSCR, Net Debt/EBITDA,
Altman Z 등 수많은 비율을 계산합니다. 예를 들어 DSCR은 `operating_cash_flow / (interest_expense + principal_due)` 형태로
계산되며, 값이 1.5 이상이면 안전, 1.0 이하이면 위험으로 분류할 수 있습니다. Altman Z 점수는 전통적인 5개 항목 조합을 사용하며, 점수 범위에 따라 PD를
추정합니다. PD 추정 결과는 다시 Markdown과 Dash에서 “경고” 메시지로 활용됩니다. Scenarios는 `build_scenarios` 함수가 담당하며, 매출과
OCF를 ±shock 만큼 조정해 보수/기준/낙관 케이스를 만듭니다. 이때 shock 값은 Dash 슬라이더로 조정할 수도 있고, 함수 인자로 직접 넣을 수도 있습니다.

네 번째 기능은 보고서 생성입니다. `render_markdown`은 실행 요약, 실적 테이블, 레버리지 표, 시나리오 표, 스토리라인, 제언, 시각화 섹션을 순서대로 만들어
냅니다. 최신 업데이트로 “0. 핵심 영어 약어 & 활용 맥락” 섹션이 추가되었고, `GLOSSARY`에서 정의한 약어 리스트를 그대로 출력합니다. Typst
렌더러(`report_typst.py`)는 동일한 데이터로 템플릿을 채워 넣어 `.typ` 파일을 만들고, Typst CLI를 호출해 PDF를 생성합니다. YAML 설정에서
Typst를 비활성화하거나 PDF만 끌 수도 있습니다.

다섯 번째 기능은 Dash 대시보드입니다. `dash_app.py`의 `create_app` 함수가 레이아웃을 구성합니다. 최근 업데이트로 각 약어를 카드 형태로 보여주는 섹션이
추가되어, 대시보드를 열자마자 “DSCR은 무엇인지, 어떤 상황에 쓰이는지, 쉬운 설명은 무엇인지”를 바로 확인할 수 있습니다. 또한 대시보드는 자동 포트 선택 기능을 갖추고
있습니다. `python -m changwon_credit.dash_app` 명령을 실행하면 먼저 원하는 포트가 비어 있는지 확인하고, 사용 중이면 다음 포트로 옮겨 갑니다. 이
덕분에 “Address already in use” 에러로 앱이 죽는 일이 사라졌습니다.

이 챕터는 각 기능을 목록으로만 정리하는 대신, 그 안에 숨겨진 설계 의도를 전달하려고 합니다. 예컨대 “왜 CSV와 Parquet, SQLite를 모두 저장하느냐” 같은 질문에
대비해, ETL이 어떤 사용 시나리오를 지원하는지 설명했습니다. Dash UI가 왜 아이 카드 섹션을 가지게 되었는지, Typst 설정을 YAML로 뺀 배경은 무엇인지도
다뤘습니다. 이 내용을 이해하면, 프로젝트 각 부분을 자신만의 요구사항에 맞게 수정할 수 있을 것입니다.

---

## 4. 기능 구현 흐름 (Step by Step)

네 번째 챕터는 실제로 프로젝트를 실행할 때 어떤 순서를 따르는지, 각 단계에서 무엇을 확인해야 하는지 상세히 설명합니다. 내용을 다섯 단계로 나누고, 각 단계마다 주의사항과 팁을
추가했습니다.

**1단계 – 설정 파일 점검:** `config/config.yaml`을 열어 회사명, 코드, 산업, 분석 연도, 데이터 소스 등을 확인합니다. `paths` 섹션에서 Raw/Processed/Baseline 경로를, `report` 섹션에서 애널리스트 이름과 통화 단위를 설정합니다. 최신 버전에서는 `report.typst` 섹션이 있어 Typst 생성 여부와 출력 폴더, 템플릿 경로를 지정할 수 있습니다. 필요한 경우 `company.code` 값을 바꾸면 다른 기업으로 손쉽게 확장할 수 있습니다.

**2단계 – CLI 실행:** 터미널에서 `changwon-credit --config config/config.yaml`를 실행합니다. 이 명령은 Typer CLI로 구현되어 있으며, 내부적으로 다음 서브 스텝을 수행합니다. (1) `run_pipeline`으로 FnGuide 데이터를 다운로드하고, CSV/Parquet/SQLite에 저장. (2) `compute_credit_metrics`로 주요 지표 계산. (3) `build_credit_story`로 하이라이트, 강점, 리스크, 제언을 생성. (4) `build_scenarios`로 보수/기준/낙관 시나리오 산출. (5) `build_charts`로 Plotly PNG 생성. (6) `render_markdown`으로 Markdown 리포트 작성. (7) `render_typst_report`으로 Typst 소스와 PDF 생성. 실행이 끝나면 콘솔에 Markdown/Typst 경로가 출력되므로, 해당 파일을 열어 검토합니다.

**3단계 – 산출물 검토:** `reports/doosan_credit.md`를 열어 목차에 빠진 부분이 없는지 확인합니다. 특히 “0. 핵심 영어 약어 & 활용 맥락” 테이블과 “실행 요약” 부분을 읽고, 문장 표현을 필요에 따라 수정하세요. `reports/figures/*.png`는 슬라이드나 대시보드에서 그대로 사용할 수 있게 해상도와 색상을 맞춰 두었습니다. Typst PDF(`reports/034020_credit_report.pdf`)는 바로 이메일에 첨부하거나 출력해 제출할 수 있을 정도의 품질을 갖추고 있습니다.

**4단계 – 대시보드 실행:** Dash 대시보드를 열려면 `python -m changwon_credit.dash_app` 명령을 사용합니다. 이때 자동 포트 선택 기능 덕분에 기존 서버가 8050 포트를 쓰고 있어도 자동으로 8051, 8052… 식으로 이동합니다. 콘솔에 “Dash dashboard listening on http://0.0.0.0:8051 (debug=True)” 같은 문구가 뜨면 해당 포트를 호스트 환경에 포워딩하고 브라우저에서 접속하세요. 브라우저가 `0.0.0.0` 주소는 바로 열지 못하므로, IDE가 알려주는 미리보기 URL 또는 `http://127.0.0.1:<포트>` 포워딩 링크를 사용해야 합니다.

**5단계 – 반복 개선:** 보고서를 살펴본 뒤, 필요한 경우 `story` 관련 코드를 고쳐서 문구를 다듬거나, Dash 콜백에서 새로운 지표를 추가할 수 있습니다. 예를 들어 다른 산업을 분석할 때 CAPEX 패턴이 다르면, `build_scenarios` 함수에 산업별 shock 값을 다르게 적용하도록 개선할 수 있습니다. 모든 변경 후에는 `pytest`를 실행해 유닛 테스트가 통과하는지 확인하는 것이 좋습니다.

이 챕터를 통해 사용자는 “무엇을 먼저 하고, 다음에는 무엇을 해야 하는지”를 명확히 알 수 있습니다. 단순히 명령어 나열이 아니라, 각 단계에서 체크해야 할 포인트를 함께 설명해
두었으니, 반복 실행 과정에서 놓치기 쉬운 부분을 스스로 점검할 수 있습니다.

---

## 5. 실행 명령

다섯 번째 챕터는 실제로 필요한 명령어를 상세한 설명과 함께 제공합니다. “명령어만 적히면 끝”이 아니라, 각 명령이 언제 필요한지, 실행 결과로 무엇을 기대해야 하는지를 단계별로
정리했습니다.

1. **의존성 설치** – `pip install --break-system-packages -e .[dev]`
이 명령은 현재 워크스페이스에 있는 `pyproject.toml`을 읽어 개발용 의존성을 설치합니다. Devcontainer나 시스템 파이썬 어디서든 한 번 실행하면
`changwon_credit` 패키지가 editable 모드로 등록되어 CLI와 대시보드가 import 됩니다. 가상환경을 따로 쓰는 경우, 해당 venv에서도 동일한 명령을
실행해야 합니다.

2. **Typst CLI 설치** – 최신 가이드에 따라 `~/.local/bin`에 Typst 0.14.0을 설치한 뒤 `typst --version`으로 확인합니다. Typst 설치 스크립트는 `docs/run_commands.md`에 단계별 명령으로 정리되어 있으며, 리포트 PDF가 필요 없으면 `config/config.yaml`에서 `report.typst.compile_pdf: false`로 비활성화할 수 있습니다.

3. **전체 파이프라인 실행** – `changwon-credit --config config/config.yaml`
앞서 설명한 대로 이 명령은 수집, 분석, 보고서, PDF 생성까지 자동 실행합니다. 콘솔 로그에서 ✅, ✨, 📄 이모지가 순서대로 출력되면 성공입니다.

4. **Typst만 재컴파일** – `typst compile reports/034020_credit_report.typ reports/034020_credit_report.pdf`
스토리 문장을 수정했는데 Markdown과 Typst를 동시에 다시 만들 필요가 없을 때 사용합니다. CLI가 이미 `.typ` 파일을 만들어 두었으므로, Typst CLI만 다시
실행하면 PDF가 갱신됩니다.

5. **Dash 대시보드 실행** – `python -m changwon_credit.dash_app`
이 명령은 새로운 CLI 옵션과 자동 포트 선택 기능을 지원합니다. 필요하면 `--port 8060`, `--host 127.0.0.1`, `--no-debug`, `--max-
port 9000` 같은 인자를 붙여 원하는 환경을 손쉽게 구성할 수 있습니다. 콘솔에는 실제 사용 중인 포트가 출력되므로, VS Code Ports 패널 또는 SSH 포워딩에서
그 포트를 열면 됩니다.

6. **테스트 실행** – `pytest`
모든 기능을 수정한 뒤에는 테스트를 돌려 회귀 버그가 없는지 확인하세요. 특히 Typst 렌더링, Dash 그래프 저장, ETL 경로 등이 정상 동작하는지 `tests/` 폴더의
케이스가 검증해 줍니다.

이 챕터는 단순 명령 메모를 넘어, 각 명령이 왜 필요한지, 성공 기준이 무엇인지, 실패했을 때 어디를 확인해야 하는지까지 안내합니다. 명령을 그대로 복사해 붙여 넣는 것만으로도
프로젝트를 처음부터 끝까지 실행할 수 있도록 구성했으므로, 새 팀원이 합류했을 때 “무엇을 해야 할지” 고민하지 않아도 됩니다.

---

## 6. 결과물 미리 보기

여섯 번째 챕터에서는 파이프라인이 만들어 내는 결과물을 세밀하게 설명합니다. 각 산출물이 무엇인지, 파일 경로는 어디인지, 열어봤을 때 어떤 구성을 기대할 수 있는지 알려 줍니다.

1. **Markdown 리포트 (`reports/doosan_credit.md`)**
문서 구조는 “0. 영어 약어 & 활용 맥락” → “1. 실행 요약” → “2. 실적·현금흐름” → “3. 레버리지·커버리지” → “4. 시나리오” → “5. 스토리라인” →
“6. 제언” → “7. 시각화” 순서입니다. 첫 섹션에는 DSCR, PD, LGD, EBITDA 등 핵심 약어를 표 형식으로 정리했습니다. 각 약어마다 풀네임, 실무 활용, 왜
중요한지까지 적혀 있어, 면접이나 내부 공유 자료에도 그대로 쓸 수 있습니다.

2. **Plotly 이미지 (`reports/figures/*.png`)**
`01_performance.png`, `02_coverage.png`, `03_altman_pd.png`, `04_scenario.png` 네 가지 이미지가 기본으로 생성됩니다.
이미지 크기와 폰트는 보고서나 프레젠테이션에서 바로 쓰기 적합한 수준으로 지정되어 있습니다. Dash 대시보드가 이 PNG를 직접 쓰는 것은 아니지만, 보고서나 슬라이드에 붙여
넣을 때 매우 유용합니다.

3. **Typst 템플릿과 PDF (`reports/034020_credit_report.typ`, `.pdf`)**
Typst 템플릿은 `src/changwon_credit/templates/credit_report.typ`를 기반으로 하며, 내부에는 Noto Sans CJK KR 폰트를 지정해
한국어가 깔끔하게 출력됩니다. 템플릿에는 “실행 요약, 성과 테이블, 레버리지 표, 시나리오, 스토리, 추천, 시각화” 순서가 있으며, Markdown과 동일한 데이터로
채워집니다. CLI 실행 시 Typst CLI가 자동으로 PDF를 생성하고, 만약 Typst가 설치되지 않았다면 경고 메시지를 띄웁니다.

4. **SQLite DB (`data_processed/credit.db`)**
`analytics_credit`, `financials_income`, `financials_balance`, `financials_cashflow`, `companies`
테이블을 포함합니다. BI 도구에서 이 DB를 열어 직접 시나리오를 만들거나, 다른 기업과 비교 분석할 때 유용합니다.

5. **Dash 대시보드**
`python -m changwon_credit.dash_app`으로 실행하면 브라우저에서 실적 그래프, 커버리지 그래프, Altman Z vs PD 그래프, 시나리오 그래프를 볼
수 있습니다. 상단 카드에는 약어 설명이 달려 있어, 처음 보는 사람도 “DSCR이 뭐지?”라는 질문을 즉시 해결할 수 있습니다.

이 챕터는 “산출물이 어디에 저장되는지”라는 단순 정보뿐 아니라, 각 산출물이 어떤 구조로 되어 있고 어떤 상황에서 활용할 수 있는지를 상세히 설명합니다. 이를 통해 팀원 누구라도
프로젝트 결과물을 자신 있게 소개할 수 있습니다.

---

## 7. 자주 묻는 질문 (FAQ)

일곱 번째 챕터는 실행 중 자주 마주치는 문제를 카테고리별로 정리했습니다. 각 질문은 500단어 규모의 설명 안에서 해결책뿐 아니라 원인 진단 방법도 다룹니다.

1. **Typst PDF가 생성되지 않을 때**
보통 `typst` 명령을 찾을 수 없거나, 텍스트에 `<` 같은 문자가 있어 Typst가 “unclosed label” 오류를 내는 경우입니다. 전자는 `typst
--version`으로 확인한 뒤 설치 스크립트를 다시 실행하면 해결됩니다. 후자는 `render_typst_report`에서 `_escape_text`가 특수문자를 자동
처리하도록 이미 수정되어 있으므로, 최신 코드를 사용하면 재발하지 않습니다.

2. **다른 기업으로 바꾸는 방법**
`config/config.yaml`의 `company.code`를 원하는 값으로 바꾸고 CLI를 다시 실행하면 됩니다. 단, FnGuide에서 해당 기업의 재무 테이블을 제공해야
하며, 산업별 특성을 반영하려면 `analytics.py`의 일부 계산식을 조정해야 할 수도 있습니다.

3. **Dash 대시보드가 열리지 않을 때**
예전에는 8050 포트가 이미 사용 중이면 Dash 앱이 바로 종료되었지만, 이제는 자동으로 다음 포트로 이동합니다. 다만 브라우저에서 `0.0.0.0` 주소를 직접 열 수
없으므로, 포트 포워딩 링크나 `http://127.0.0.1:<포트>`를 사용해야 합니다. “포트가 바뀌었다”는 메시지가 콘솔에 뜨면 그 번호를 Ports 패널에 추가하세요.

4. **가상환경에서 `ModuleNotFoundError`가 나는 경우**
새로 만든 가상환경에는 아직 `changwon_credit` 패키지가 설치되지 않았습니다. 반드시 그 venv 내부에서 `pip install -e .[dev]`를 다시
실행하세요. 시스템 파이썬에서 설치했다고 해서 가상환경에도 자동 적용되는 것은 아닙니다.

5. **pyenv가 `python` 명령을 못 찾는다고 할 때**
`pyenv global system`으로 기본 파이썬을 설정하거나, `python3 -m ...`처럼 명시적으로 버전을 지정하면 됩니다.

6. **Plotly/Kaleido 경고 메시지**
`pytest` 실행 시 Kaleido 버전에 대한 DeprecationWarning이 뜨는 경우가 있습니다. 현재는 기능에 영향이 없지만, 향후 Kaleido 1.0.0 이상으로
업그레이드할 계획입니다.

이 FAQ는 문제 해결 방법만 나열하는 것이 아니라, 왜 그런 문제가 발생하는지와 재발 방지 팁을 함께 제공합니다. 예를 들어 Dash 포트 충돌 문제의 경우 “Address
already in use” 메시지를 해석하고, 포트 포워딩 개념을 이해해야 해결할 수 있으므로, 이를 상세히 설명했습니다.

---

## 8. 다음 단계 아이디어

마지막 챕터는 앞으로 프로젝트를 어떻게 확장할 수 있는지 제안합니다. 여기에는 템플릿 개선, 분석 지표 추가, UI 확장, 자동화 파이프라인, 테스트 강화 등 다양한 방향이 담겨
있습니다.

1. **Typst 템플릿 커스터마이징** – 현재 템플릿은 기본적인 표와 제목으로 구성되어 있지만, 은행 로고나 서명란, 부록을 추가하면 실제 보고서와 거의 동일한 형태가 됩니다. `config/config.yaml`에서 템플릿 경로를 바꿀 수 있으니, 고객사별 맞춤 템플릿을 만들어 두었다가 필요할 때 선택적으로 적용할 수 있습니다.

2. **Dash 기능 강화** – 현재는 하나의 기업 데이터를 보여주지만, 향후 동종업체 비교 탭, 데이터 테이블, KPI 히스토리를 추가할 수 있습니다. Plotly의 Subplot 기능이나 Dash DataTable을 활용하면 빠르게 확장 가능합니다. 또한 앱 실행 시 API 키나 사용자 인증을 붙이면 사내망에서도 안정적으로 사용할 수 있습니다.

3. **자동 배포 파이프라인** – GitHub Actions나 Jenkins 같은 CI/CD 도구를 연결해, `main` 브랜치에 커밋될 때마다 자동으로 `changwon-credit` CLI를 실행하고 산출물을 업로드할 수 있습니다. 예를 들어 S3 버킷이나 내부 포털에 리포트를 자동 배포하면, 여신심사 팀원이 항상 최신 데이터를 확인할 수 있습니다.

4. **추가 데이터 소스 통합** – FnGuide 외에도 DART, OpenDART, Quandl 같은 데이터 소스를 연결해, 분기별 재무나 시장 데이터를 덧붙일 수 있습니다. 이를 위해 `loader.py`와 `analytics.py`에 모듈화된 함수들을 만들어 두었으니, 새로운 소스를 추가하기 쉬운 구조입니다.

5. **테스트 및 품질 관리 강화** – 이미 `pytest`로 기본 기능을 검증하고 있지만, 앞으로는 Typst 렌더링 결과를 스냅샷 테스트하거나, Dash 콜백을 통합 테스트하는 절차를 추가할 수 있습니다. 또한 pre-commit 훅을 사용해 포맷팅과 린트를 자동화하면 코드 품질이 더욱 안정됩니다.

이 챕터는 “프로젝트가 현재 어디까지 왔는지”뿐 아니라 “앞으로 어떤 방향으로 발전할 수 있는지”를 제시합니다. 팀 내에서 로드맵을 논의할 때 참고할 수 있도록 구체적인 아이디어와
실행 힌트를 함께 적었습니다.

---

이상으로 각 챕터마다 500단어 이상의 상세 설명을 제공했습니다. 튜토리얼은 기술적 배경, 실행 절차, 문제 해결, 미래 계획까지 모두 담고 있으므로, 프로젝트를 처음 접하는
사람도 이 문서만 읽으면 전체 그림을 파악할 수 있습니다. 필요할 때마다 챕터를 나눠 읽고, 동료와 내용을 공유하며 프로젝트를 발전시켜 나가세요. 😊
