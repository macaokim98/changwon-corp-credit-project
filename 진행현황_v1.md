# 창원 기업 여신 분석 자동화 – 진행 현황 v1

## 1. 환경 구성
- `pip install -e .[dev]`로 파이썬 의존성 설치 완료, Typst 0.14.0 CLI는 `~/.local/bin/typst`에 구성되어 Markdown→Typst→PDF 파이프라인이 동작함.
- `config/config.yaml`에 Typst 관련 옵션(`enabled`, `compile_pdf`, `output_dir`, `template`)을 추가해 환경마다 산출물 위치·PDF 생성 여부를 제어 가능.
- Noto Sans CJK KR 폰트를 시스템에 설치하고 Typst 템플릿(`src/changwon_credit/templates/credit_report.typ`)에 적용하여 PDF 폰트 품질 개선.

## 2. 데이터 파이프라인 & 보고서
- `changwon-credit --config config/config.yaml` 실행 시 FnGuide 데이터 수집→Parquet/SQLite 적재→지표 계산→Markdown/Typst 보고서 생성까지 원클릭 실행 확인.
- Markdown 리포트(`reports/doosan_credit.md`)에 “핵심 영어 약어 & 활용 맥락” 섹션을 추가해 DSCR/PD/LGD/EBITDA/ROIC/FCF/OCF의 정의와 실무 활용을 표로 제공.
- Typst 렌더러(`render_typst_report`)는 특수문자 자동 이스케이프, 템플릿/출력 경로 오버라이드, PDF 생성 on/off 옵션을 지원하며 테스트(`tests/test_report_typst.py`)도 업데이트.

## 3. Dash 대시보드
- `src/changwon_credit/dash_app.py`에 Glossary 카드 섹션을 추가해 약어 설명과 중학생용 친절 설명을 표시.
- `python -m changwon_credit.dash_app` 실행 시 포트 자동 스캔 기능으로 8050 충돌 시 8051+로 자동 이동하며, `--port/--host/--no-debug/--max-port` 옵션으로 세부 제어 가능.

## 4. 문서화
- `docs/tutorial_walkthrough.md`: 각 챕터 500단어 이상으로 프로젝트 목표, 기술 스택, 실행 절차, 결과물, FAQ, 로드맵 등을 상세 서술.
- `docs/tutorial_walkthrough_brief.md`: 위 튜토리얼을 약 1/3 분량으로 요약한 버전.
- `docs/run_commands.md`: 의존성 설치, Typst 설치, 파이프라인 실행, Typst 재컴파일, Dash 구동, 테스트 명령을 단계별로 정리.

## 5. 현재 산출물
- Markdown 리포트: `reports/doosan_credit.md`
- Plotly 이미지: `reports/figures/*.png`
- Typst 소스 & PDF: `reports/034020_credit_report.typ/.pdf`
- SQLite DB: `data_processed/credit.db`
- Dash 대시보드: `python -m changwon_credit.dash_app` (자동 포트 안내 확인 후 브라우저 접속)

## 6. 다음 할 일(권장)
1. Typst 템플릿에 회사별 로고/서명란 삽입.
2. Dash에 동종업체 비교 탭 및 데이터 테이블 추가.
3. Kaleido 1.x 업그레이드 및 Plotly 경고 해결.
4. CI 파이프라인에서 CLI 실행→산출물 업로드 자동화 검토.
